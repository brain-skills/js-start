<!DOCTYPE html>
<html lang="ru">
<head>
    <title>JS-Start. 3 задача</title>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="../assets/images/favicons/favicon.png" sizes="32x32">
    <link rel="stylesheet" href="../assets/css/style.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>Задание 6.8.4 — Светофор</h1>
    <h2>Содержание:</h2>
    <ul>
        <li><a href="../index.html">Задание 6.8.1 — Стартовая страница</a></li>
        <li><a href="../task1/index.html">Задание 6.8.2 — Привет, мир!</a></li>
        <li><a href="../task2/index.html">Задание 6.8.3 — Подсказка</a></li>
        <li><a href="index.html" class="active">Задание 6.8.4 — Светофор</a></li>
        <li><a href="../task4/index.html">Задание 6.8.5 — Ввод текста</a></li>
        <li><a href="../task5/index.html">Задание 6.8.6 — Перехват формы</a></li>
    </ul>
    <hr><br>
    <p style="color: rgb(19, 167, 0); font-weight: 600;">В данном случае я очень захотел сделать 2 светофора. В одном я сделал так чтобы переход осуществлялся с помощью клика с одного на другой кружок. А во втором варианте я решил использовать метод задержки taimer, чтобы переход происходил автоматически через какой то промежуток времени. Делал его <a href="https://stackblitz.com/edit/traffic-light-in-vanilla-javascript?file=index.js" target="_blank">по примеру</a> из интернета, идея не моя но я её адаптировал. Моя последняя попытка прежде чем я отпустил руки и перешел на чужой пример выполнения задачи: <a href="https://jsfiddle.net/Georka/fzb4c6x8/4/" target="_blank">тут</a> на jsfiddle.net</p><br>
    <div class="traffics">
        <fieldset class="manual"><legend>Переход с помощью клика</legend>
            <div class="manualTraffic">
                <div id="manualGreen"></div>
                <div id="manualYellow"></div>
                <div id="manualRed"></div>
            </div>
            <fieldset><legend>JS</legend>
                <p>const manualGreen = document.querySelector('#manualGreen');</p>
                <p>const manualYellow = document.querySelector('#manualYellow');</p>
                <p>const manualRed = document.querySelector('#manualRed');</p>
                <br>
                <p>function mBgGreen() {</p>
                    <p>&nbsp;&nbsp;&nbsp;&nbsp;manualGreen.style.background = ('green');</p>
                    <p>&nbsp;&nbsp;&nbsp;&nbsp;manualYellow.style.background=('black');</p>
                    <p>&nbsp;&nbsp;&nbsp;&nbsp;manualRed.style.background=('black');</p>
                    <p>&nbsp;&nbsp;&nbsp;&nbsp;manualGreen.removeEventListener('click', mBgGreen);</p>
                    <p>&nbsp;&nbsp;&nbsp;&nbsp;manualYellow.addEventListener('click', mBgYellow);</p>
                    <p>&nbsp;&nbsp;&nbsp;&nbsp;manualRed.addEventListener('click', mBgRed);</p>
                    <p>}</p>
                <p>manualGreen.addEventListener('click', mBgGreen);</p>
                <br>
                <p>function mBgYellow(){</p>
                    <p>&nbsp;&nbsp;&nbsp;&nbsp;manualGreen.style.background = ('black');</p>
                    <p>&nbsp;&nbsp;&nbsp;&nbsp;manualYellow.style.background=('yellow');</p>
                    <p>&nbsp;&nbsp;&nbsp;&nbsp;manualRed.style.background=('black');</p>
                    <p>&nbsp;&nbsp;&nbsp;&nbsp;manualYellow.removeEventListener('click', mBgYellow);</p>
                    <p>&nbsp;&nbsp;&nbsp;&nbsp;manualRed.addEventListener('click', mBgRed);</p>
                    <p>&nbsp;&nbsp;&nbsp;&nbsp;manualGreen.addEventListener('click', mBgGreen);</p>
                <p>}</p>
                <p>manualYellow.addEventListener('click', mBgYellow);</p>
                <br>
                <p>function mBgRed(){</p>
                    <p>&nbsp;&nbsp;&nbsp;&nbsp;manualGreen.style.background = ('black');</p>
                    <p>&nbsp;&nbsp;&nbsp;&nbsp;manualYellow.style.background=('black');</p>
                    <p>&nbsp;&nbsp;&nbsp;&nbsp;manualRed.style.background=('red');</p>
                    <p>&nbsp;&nbsp;&nbsp;&nbsp;manualRed.removeEventListener('click', mBgRed);</p>
                    <p>&nbsp;&nbsp;&nbsp;&nbsp;manualGreen.addEventListener('click', mBgGreen);</p>
                    <p>&nbsp;&nbsp;&nbsp;&nbsp;manualYellow.addEventListener('click', mBgYellow);</p>
                <p>}</p>
                <p>manualRed.addEventListener('click', mBgRed);</p>
            </fieldset>
        </fieldset>
        <fieldset class="auto"><legend>Переход автоматически по таймеру</legend>
            <div class="autoTraffic">
                <div class="autoGreen"></div>
                <div class="autoYellow"></div>
                <div class="autoRed"></div>
            </div>
            <fieldset><legend>JS</legend>
                <p>var autoTraffic = document.querySelectorAll('.autoTraffic > div'), timers = [1500, 1500, 1500], counter = 0;</p>

                <p>document.addEventListener('load', start);</p>

                <p>var start = setTimeout(function() {</p>
                    <p>&nbsp;&nbsp;&nbsp;&nbsp;traffic();</p>
                <p>}, 100);</p>

                <p>function traffic() {</p>
                    <p>&nbsp;&nbsp;&nbsp;&nbsp;for (var i=0; i < autoTraffic.length; i++) {</p>
                    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;autoTraffic[i].classList.remove('on');</p>
                    <p>&nbsp;&nbsp;&nbsp;&nbsp;}</p>
                    <p>&nbsp;&nbsp;&nbsp;&nbsp;autoTraffic[counter].classList.add('on');</p>
                    <p>&nbsp;&nbsp;&nbsp;&nbsp;setTimeout(traffic, timers[counter]);</p>
                    <p>&nbsp;&nbsp;&nbsp;&nbsp;counter = (counter + 1) % timers.length;</p>
                <p>}</p>
            </fieldset>
        </fieldset>
    </div>
    <script src="script.js"></script>
</body>
</html>